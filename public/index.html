<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BN Kids ‚Äì Sagov√§rld</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 16px; background:#0b1020; color:#fff; }
    .row { display:flex; gap:12px; flex-wrap:wrap; margin: 8px 0; }
    label { font-size:14px; opacity:.9; }
    input, textarea, select, button {
      font-size:16px; padding:12px; border-radius:10px; border:none;
    }
    textarea { width:100%; min-height:120px; }
    button.primary { background:#2ecc71; color:#06101d; font-weight:700; }
    button.secondary { background:#1e90ff; color:#06101d; font-weight:700; }
    button:disabled { opacity:.5; pointer-events:none; }
    #spinner {
      display: none; /* VIKTIGT: dold fr√•n start */
      align-items:center; gap:6px; margin-left:10px;
    }
    .dot { width:8px; height:8px; border-radius:50%; background:#ffd166; animation: blip 1s infinite ease-in-out; }
    .dot:nth-child(2){ animation-delay:.15s } .dot:nth-child(3){ animation-delay:.3s }
    @keyframes blip { 0%,80%,100%{ transform:scale(1) } 40%{ transform:scale(1.6) } }
    #result { white-space:pre-wrap; background:#0e1730; padding:12px; border-radius:12px; min-height:100px; }
    #status { font-size:14px; opacity:.85; margin-top:6px; }
  </style>
</head>
<body>
  <h1>BN‚Äôs Sagov√§rld</h1>

  <div class="row">
    <div>
      <label>√Ölder</label><br/>
      <select id="age">
        <option>1-2</option>
        <option>3-4</option>
        <option>5-6</option>
        <option>7-8</option>
        <option>9-10</option>
        <option>11-12</option>
      </select>
    </div>
    <div>
      <label>Hj√§lte (valfritt)</label><br/>
      <input id="hero" placeholder="Taxen Tage, Draken Holger‚Ä¶" />
    </div>
  </div>

  <div class="row">
    <label>Sagognista (skriv eller tala in)</label>
    <textarea id="prompt" placeholder="Vad ska sagan handla om?"></textarea>
  </div>

  <div class="row">
    <button id="btn-story" class="primary">‚ú® Skapa saga</button>
    <button id="btn-tts" class="secondary">üîä L√§s upp</button>
    <div id="spinner" aria-live="polite">
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>
  </div>

  <div id="status"></div>

  <h3>Ber√§ttelse</h3>
  <div id="result"></div>

  <h3>Uppl√§sning</h3>
  <audio id="audio" controls></audio>

  <script src="/app.js" defer></script>
</body>
</html>
